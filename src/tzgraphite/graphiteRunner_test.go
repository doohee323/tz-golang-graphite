package main

import "testing"

func Test(t *testing.T) {
	//t.Fatal()

	//		m1 := Metric{*value}
	//		data1, err := json.Marshal(m1)
	//		log.Debug("%s\n", data1)
	//		err = tz.NewGraphite(*method, *key, data1)
	//		if err != nil {
	//			log.Debug("%s\n", err)
	//		}
	//		time.Sleep(30000 * time.Millisecond)
	//		m1 = Metric{"41"}
	//		data1, err = json.Marshal(m1)
	//		log.Debug("%s\n", data1)
	//		err = tz.NewGraphite("sendmetric", "statsd.test.graphite_loaded3", data1)
	//		if err != nil {
	//			log.Debug("%s\n", err)
	//		}
	//		time.Sleep(30000 * time.Millisecond)
	//		m1 = Metric{"42"}
	//		data1, err = json.Marshal(m1)
	//		log.Debug("%s\n", data1)
	//		err = tz.NewGraphite("sendmetric", "statsd.test.graphite_loaded3", data1)
	//		if err != nil {
	//			log.Debug("%s\n", err)
	//		}
	//		time.Sleep(30000 * time.Millisecond)
	//		m1 = Metric{"43"}
	//		data1, err = json.Marshal(m1)
	//		log.Debug("%s\n", data1)
	//		err = tz.NewGraphite("sendmetric", "statsd.test.graphite_loaded3", data1)
	//		if err != nil {
	//			log.Debug("%s\n", err)
	//		}
	//	} else if(*method == "sendmetrics") {
	//		// https://localhost/render?target=statsd.test.graphite_loaded4&from=-10min&rawData=true&format=json
	//		type Metrics struct {
	//			Date  string
	//			Value string
	//		}
	//
	//		var mArray []Metrics
	//		mArray = append(mArray, Metrics{strconv.FormatInt(time.Now().Unix(), 10), "522"})
	//		time.Sleep(30000 * time.Millisecond)
	//		mArray = append(mArray, Metrics{strconv.FormatInt(time.Now().Unix(), 10), "533"})
	//		time.Sleep(30000 * time.Millisecond)
	//		mArray = append(mArray, Metrics{strconv.FormatInt(time.Now().Unix(), 10), "544"})
	//		data2, err := json.Marshal(mArray)
	//		err = tz.NewGraphite("sendmetrics", "statsd.test.graphite_loaded4", data2)
	//		if err != nil {
	//			log.Debug("%s\n", err)
	//		}
}
